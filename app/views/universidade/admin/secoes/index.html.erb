<div class="px-6 py-6 max-w-4xl mx-auto">

  <%# ── Header ──────────────────────────────────────────────── %>
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-bold text-gray-900">Landing Page</h1>
      <p class="text-sm text-gray-500 mt-1">Configure as seções exibidas na página inicial da Universidade.</p>
    </div>
        <%= link_to new_admin_secao_path,
          data: { turbo_stream: true },
          class: "inline-flex items-center gap-2 px-4 py-2 bg-pink-600 hover:bg-pink-700 text-white text-sm font-medium rounded-lg transition-colors" do %>
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
      </svg>
      Nova Seção
    <% end %>
  </div>

  <%# ── Info banner ─────────────────────────────────────────── %>
  <% if @secoes.any? %>
    <div class="mb-4 p-3 bg-pink-50 border border-pink-200 rounded-lg text-xs text-pink-700 flex items-start gap-2">
      <svg class="w-4 h-4 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      <span>
        A landing page exibirá as seções <strong>visíveis</strong> na ordem abaixo.
        Quando não há seções configuradas, a página inicial mostra todos os cursos publicados automaticamente.
      </span>
    </div>
  <% end %>

  <%# ── Seções ───────────────────────────────────────────────── %>
  <div class="space-y-3" id="secoes_lista" data-controller="sortable" data-sortable-url-value="<%= reorder_admin_secoes_path %>">
    <% if @secoes.empty? %>
      <div class="text-center py-16 bg-white rounded-xl border border-gray-200" id="secoes_empty_state">
        <svg class="w-10 h-10 text-gray-300 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zm10 0a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zm10 0a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"/>
        </svg>
        <p class="text-gray-500 text-sm font-medium">Nenhuma seção configurada</p>
        <p class="text-gray-400 text-xs mt-1 mb-4">A página inicial exibe todos os cursos publicados automaticamente.</p>
          <%= link_to new_admin_secao_path,
            data: { turbo_stream: true },
              class: "inline-flex items-center gap-1.5 text-sm text-pink-600 hover:text-pink-700 font-medium" do %>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
          </svg>
          Criar a primeira seção
        <% end %>
      </div>
    <% else %>
      <% @secoes.each do |secao| %>
        <%= render "secao", secao: secao %>
      <% end %>
    <% end %>
  </div>
  
  <% unless @secoes.empty? %>
    <p class="text-xs text-gray-400 mt-4 text-center">
      <%= @secoes.size %> seção(ões) · <%= @secoes.count(&:visivel?) %> visível(is)
    </p>
  <% end %>

</div>
